<!doctype html>
<html>
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="32x32"
    href="{{ url_for('static', filename='favicon/favicon-32x32.png') }}"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="{{ url_for('static', filename='favicon/favicon-16x16.png') }}"
  />
  <link
    rel="manifest"
    href="{{ url_for('static', filename='favicon/site.webmanifest') }}"
  />
  <link
    rel="mask-icon"
    href="{{ url_for('static', filename='favicon/safari-pinned-tab.svg') }}"
    color="#5bbad5"
  />
  <meta name="msapplication-TileColor" content="#da532c" />
  <meta name="theme-color" content="#ffffff" />
  <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/spec_playlist.css') }}"
  />
  <head>
    <title>Playlist - {{ playlist_data['id'] }}</title>
  </head>
  <body>
    <a href="https://rawcsav.com" class="homepage-link">
      <img
        src="https://res.cloudinary.com/dn9bcrimg/image/upload/v1695251723/RawcSavLogo_iiq03n.png"
        alt="Homepage"
      />
    </a>
    <div class="top-right-nav">
      <a href="https://webstats.rawcsav.com/playlist" class="profile-link"
        >Back to Playlists</a
      >
    </div>
    <h1>{{ playlist_data['name'] }}</h1>
    <h2>Genre Counts</h2>
    <ul>
      {% for genre, count in playlist_data.genre_counts|dictsort(reverse=True,
      by='value') %}
      <li>{{ genre }}: {{ count }}</li>
      {% endfor %}
    </ul>

    <h2>Top Artists</h2>
    <ul>
      {% for artist, count, image_url in playlist_data.top_artists %}
      <li>
        <img
          src="{{ image_url }}"
          alt="{{ artist }}'s picture"
          width="100"
          height="100"
        />
        {{ artist }}: {{ count }}
      </li>
      {% endfor %}
    </ul>

    <h2>Feature Stats</h2>
    <ul>
      {% for feature, stats in playlist_data.feature_stats.items() %}
      <li>
        {{ feature }}:
        <ul>
          <li>Min: {{ stats['min'][1] }} ({{ stats['min'][0] }})</li>
          <li>Max: {{ stats['max'][1] }} ({{ stats['max'][0] }})</li>
          <li>Avg: {{ stats['avg'] }}</li>
        </ul>
      </li>
      {% endfor %}
    </ul>
  </body>
  <script src="{{ url_for('static', filename='js/spec_playlist.js') }}"></script>
</html>
